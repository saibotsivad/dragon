var grab=startX=startY=oldTop=oldLeft=0;document.addEventListener('click',function(e){e.preventDefault()},true);document.addEventListener('mousedown',pick);document.addEventListener('touchstart',pick);function pick(e){e.preventDefault();if (e.target.nodeName==='circle'){grab=Date.now();e.target.setAttribute('data-drag',grab);oldTop=e.target.cy.baseVal.value||0;oldLeft=e.target.cx.baseVal.value||0;}startX=(e.clientX||e.touches[0].clientX)/10;startY=(e.clientY||e.touches[0].clientY)/10;}document.addEventListener('mousemove',drag);document.addEventListener('touchmove',drag);function drag(e){if (grab){var element=document.querySelector('[data-drag="'+grab+'"]');element.setAttribute('cy',oldTop+(e.clientY||e.touches[0].clientY)/10-startY);element.setAttribute('cx',oldLeft+(e.clientX||e.touches[0].clientX)/10-startX);}}document.addEventListener('mouseup',release);document.addEventListener('touchend',release);function release(e){grab='';}
